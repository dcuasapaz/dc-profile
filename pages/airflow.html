<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Blog</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
            background-color: #f4f4f4;
        }

        header {
            background-color: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
        }

        nav {
            background-color: #444;
            color: #fff;
            padding: 10px;
            text-align: center;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            padding: 10px;
            margin: 0 10px;
        }

        section {
            margin-top: 20px;
        }

        article {
            background-color: #fff;
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 10px;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>
<body>

    <header>
        <h1>Mi Blog - Apache Airflow</h1>
    </header>

    <nav>
        <a href="#">Inicio</a>
        <a href="#ins-usg-dck">Install Using Docker</a>
    </nav>

    <section>
        <article id="ins-usg-dck">
            <h2>Install Using Docker</h2>
            <p>Version: 2.7.3</p>
            
            <b>Step to Step: Install docker</b>
            
            1. Remove install docker (user with sudo permissions):
            
              $ sudo yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine
            2. Install the yum-utils package (which provides the yum-config-manager utility) and set up the repository.
             $ sudo yum install -y yum-utils
            
            3. Install Docker Engine, containerd, and Docker Compose:
             $ sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
            
            4. To install the latest version, run:
             $ sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
             
            5. Activate service: 
             $ sudo systemctl enable docker
            
            6. Start service:
             $ sudo systemctl start docker
            
            7. Review install and version:
             $ sudo docker ps -a
             $ sudo docker --version
             
            <b>Step to Step: Install docker-compose</b>
            
            1. To download and install Compose standalone, run:
             $ sudo curl -SL https://github.com/docker/compose/releases/download/v2.23.3/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose
            
            2. Test and execute compose commands using docker-compose.
             $ sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose 
            
            3. Add permissions:
             $ sudo chmod +x /usr/local/bin/docker-compose
            
            4. Review install and version:
             $ docker-compose --version
            
            <b>Step to Step: Install airflow-docker</b>
            
            1. Create and open folder for airflow: 
             $ mkdir /home/dcuasapaz/docker/airflow_2.7.3
             $ cd /home/dcuasapaz/docker/airflow_2.7.3
            
            2. Download docker-compose for airflow:
             $ sudo curl -LfO 'https://airflow.apache.org/docs/apache-airflow/2.7.3/docker-compose.yaml'
            
            3. Create folders:
             $ mkdir ./dags ./plugins ./logs
            
            4. Let�s run the initialization script to create a user and upgrade the airflow.
             $ sudo docker-compose up airflow-init
            
            5. If the script ran successfully, you would get the above message. Make sure you are getting the same. Now, let�s start all the airflow services.
             $ sudo docker-compose up -d
            
            6. View docker list
             $ sudo docker ps 
            
            7. Open link in your browser: http://localhost:8080/
            
            <b>User:</b> airflow
            <b>Password:</b> airflow

            <img src="../img/airflow_login.png">
            
            8. View main page:

            <img src="../img/airflow_main.png">
              
            <br>
            <br>
            <br> 
            <b>References:</b>

            <b>Docker</b><p>https://docs.docker.com/engine/install/centos/</p>
            <b>Docker-compose</b><p>https://docs.docker.com/compose/install/standalone/</p>
            <b>Docker-compose</b><p>https://www.hostinger.es/tutoriales/instalar-docker-centos7</p>
            <b>Docker-compose</b><p>https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-compose-on-centos-7</p>
            <b>Apache Airflow - Docker</b><p>https://naiveskill.com/install-airflow/</p>
            
            <p></p>
            <p></p>
            <a href="#">Read more</a>
        </article>

    </section>

    <footer>
        <p>&copy; <script>document.write(new Date().getFullYear());</script> Mi Blog. All Rights Reserved.</p>
    </footer>

</body>
</html>